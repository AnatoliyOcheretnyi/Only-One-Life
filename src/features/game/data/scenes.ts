import type { Scene } from '@/src/shared/types';
import { MIN_HEALTH_FOR_COMBAT, MIN_HEALTH_FOR_FAMILY } from '@/src/shared/constants';

const arc1Scenes: Scene[] = [
  // Start pool (one random start)
  {
    id: 'a1-start-shelter',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Ніч у притулку',
    text: 'Ти прокидаєшся в холодному притулку. Сьогодні треба знайти шлях до першого заробітку.',
    choices: [
      {
        id: 'shelter-kitchen',
        label: 'Допомогти на кухні',
        description: 'Стабільно, але без великих шансів.',
        effort: 'physical',
        baseChance: 0.9,
        path: 'craft',
        successText: 'Ти чесно відпрацював і отримав скромну винагороду.',
        failText: 'Роботи виявилось більше, ніж обіцяв хазяїн притулку.',
        success: { money: 2, reputation: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'shelter-market',
        label: 'Піти на ринок',
        description: 'Спроба знайти торгівлю або випадкову роботу.',
        effort: 'social',
        baseChance: 0.6,
        path: 'trade',
        successText: 'Ти знаходиш дрібну роботу біля прилавків.',
        failText: 'Тебе проганяють як жебрака.',
        success: { money: 3, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'shelter-backdoor',
        label: 'Шукати легкі гроші',
        description: 'Ризикована авантюра.',
        effort: 'social',
        baseChance: 0.35,
        path: 'crime',
        successText: 'Ти домовляєшся про дрібну підробітку в тіні.',
        failText: 'Тебе помічають і виганяють з району.',
        success: { money: 4, luck: 1, karma: -2 },
        fail: { reputation: -1, health: -1, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-start-market',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Ранковий ринок',
    text: 'Ти опинився серед натовпу на ринку. Тут можна знайти шанс — або біду.',
    choices: [
      {
        id: 'market-porter',
        label: 'Підробляти носієм',
        description: 'Фізична робота за дрібну платню.',
        effort: 'physical',
        baseChance: 0.75,
        path: 'service',
        successText: 'Ти тягнеш ящики й отримуєш платню.',
        failText: 'Тебе звинувачують у повільності.',
        success: { money: 2, skill: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'market-trader',
        label: 'Допомогти торговцю',
        description: 'Шанс на зв’язки.',
        effort: 'social',
        baseChance: 0.6,
        path: 'trade',
        successText: 'Торговець запам’ятовує тебе.',
        failText: 'Тебе не беруть без довіри.',
        success: { money: 3, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'market-pickpocket',
        label: 'Спробувати крадіжку',
        description: 'Швидко, але небезпечно.',
        effort: 'social',
        baseChance: 0.35,
        path: 'crime',
        successText: 'Ти висмикуєш гаманець і зникаєш у натовпі.',
        failText: 'Тебе ловлять і б’ють.',
        success: { money: 5, luck: 1, karma: -2 },
        fail: { health: -2, reputation: -2 },
      },
    ],
  },
  {
    id: 'a1-start-dock',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Холодні доки',
    text: 'На річкових доках завжди потрібні руки.',
    choices: [
      {
        id: 'dock-shift',
        label: 'Взяти зміну',
        description: 'Стабільно, але виснажливо.',
        effort: 'physical',
        baseChance: 0.75,
        path: 'service',
        successText: 'Ти чесно працюєш і отримуєш платню.',
        failText: 'Ти не витримуєш темпу.',
        success: { money: 3, skill: 1 },
        fail: { health: -1, fatigue: 1 },
      },
      {
        id: 'dock-master',
        label: 'Попросити наставника',
        description: 'Шанс на ремесло.',
        effort: 'social',
        baseChance: 0.45,
        path: 'craft',
        successText: 'Старий майстер дає тобі роботу.',
        failText: 'Тебе відправляють геть.',
        success: { skill: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'dock-run',
        label: 'Піти у тінь',
        description: 'Спроба легких грошей.',
        effort: 'social',
        baseChance: 0.35,
        path: 'crime',
        successText: 'Ти переносиш чужий пакунок.',
        failText: 'Варта помічає тебе.',
        success: { money: 4, luck: 1, karma: -2 },
        fail: { reputation: -1, health: -1, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-start-ruins',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Після пожежі',
    text: 'Квартал ще димить. Люди шукають допомоги і робочих рук.',
    choices: [
      {
        id: 'ruins-clear',
        label: 'Розбирати завали',
        description: 'Фізично важко, але чесно.',
        effort: 'physical',
        baseChance: 0.7,
        path: 'service',
        successText: 'Ти допомагаєш і отримуєш платню.',
        failText: 'Робота виявилась небезпечною.',
        success: { money: 2, reputation: 1, skill: 1 },
        fail: { health: -1 },
      },
      {
        id: 'ruins-scavenge',
        label: 'Шукати корисне',
        description: 'Можна знайти щось цінне.',
        effort: 'mental',
        baseChance: 0.4,
        path: 'crime',
        successText: 'Ти знаходиш інструмент.',
        failText: 'Господар ловить тебе на місці.',
        success: { money: 3, luck: 1, karma: -1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'ruins-apprentice',
        label: 'Піти до майстерні',
        description: 'Спроба знайти роботу.',
        effort: 'social',
        baseChance: 0.55,
        path: 'craft',
        successText: 'Тобі дозволяють допомагати.',
        failText: 'Тебе не беруть.',
        success: { skill: 2 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-start-guard-gate',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Біля міської брами',
    text: 'Варта перевіряє натовп. Потрібні добровольці для охорони.',
    choices: [
      {
        id: 'gate-join',
        label: 'Записатись до варти',
        description: 'Початок служби.',
        effort: 'physical',
        baseChance: 0.65,
        path: 'service',
        successText: 'Тебе приймають на випробувальний термін.',
        failText: 'Твоїх сил не вистачило.',
        success: { reputation: 2, skill: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'gate-help-trader',
        label: 'Допомогти торговцю',
        description: 'Шанс на роботу в каравані.',
        effort: 'social',
        baseChance: 0.55,
        path: 'trade',
        successText: 'Ти отримуєш дрібну платню і знайомство.',
        failText: 'Тебе відштовхують.',
        success: { money: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'gate-watch',
        label: 'Спостерігати',
        description: 'Обрати шлях пізніше.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти відкладаєш вибір.',
        failText: 'Ти відкладаєш вибір.',
        success: { luck: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-start-workshop',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Майстерня майстра',
    text: 'Старий майстер шукає помічника на кілька днів.',
    choices: [
      {
        id: 'workshop-accept',
        label: 'Погодитись',
        description: 'Стабільна робота, шанс на ремесло.',
        effort: 'physical',
        baseChance: 0.7,
        path: 'craft',
        successText: 'Ти показуєш старанність.',
        failText: 'Ти не витримуєш ритм.',
        success: { skill: 2, reputation: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'workshop-refuse',
        label: 'Відмовитись',
        description: 'Шукати щось прибутковіше.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: {},
        fail: {},
      },
      {
        id: 'workshop-steal',
        label: 'Спробувати вкрасти',
        description: 'Ризиковано.',
        effort: 'social',
        baseChance: 0.3,
        path: 'crime',
        successText: 'Ти крадеш інструмент.',
        failText: 'Тебе ловлять.',
        success: { money: 4, luck: 1, karma: -2 },
        fail: { reputation: -2, health: -1, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-start-tavern',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Корчма на розі',
    text: 'У корчмі шум. Хтось шукає людей на підробіток.',
    choices: [
      {
        id: 'tavern-runner',
        label: 'Виконувати доручення',
        description: 'Шанс на дрібні гроші.',
        effort: 'physical',
        baseChance: 0.75,
        path: 'trade',
        successText: 'Ти швидко справляєшся.',
        failText: 'Ти запізнюєшся і дратуєш господаря.',
        success: { money: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'tavern-brawl',
        label: 'Втрутитись у бійку',
        description: 'Ризик, але можлива повага.',
        effort: 'physical',
        baseChance: 0.5,
        path: 'service',
        successText: 'Ти рознімаєш людей і виглядаєш сильно.',
        failText: 'Тебе збивають з ніг.',
        success: { reputation: 2, skill: 1 },
        fail: { health: -2 },
      },
      {
        id: 'tavern-shady',
        label: 'Слухати тіньові пропозиції',
        description: 'Можуть бути небезпечні.',
        effort: 'social',
        baseChance: 0.4,
        path: 'crime',
        successText: 'Ти отримуєш контакт.',
        failText: 'Тебе виганяють.',
        success: { reputation: -1, money: 3 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-start-road',
    arc: 1,
    phase: 'start',
    vector: 'neutral',
    title: 'Дорога до міста',
    text: 'Ти входиш до міста з дороги. У кишені майже нічого.',
    choices: [
      {
        id: 'road-escort',
        label: 'Допомогти мандрівнику',
        description: 'Шанс на дрібну нагороду.',
        effort: 'social',
        baseChance: 0.6,
        path: 'trade',
        successText: 'Він дякує і платить.',
        failText: 'Він підозрює тебе в поганих намірах.',
        success: { money: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'road-guard',
        label: 'Записатись до охорони',
        description: 'Можливість служби.',
        effort: 'physical',
        baseChance: 0.55,
        path: 'service',
        successText: 'Тебе беруть у супровід.',
        failText: 'Тебе не вважають надійним.',
        success: { reputation: 1, skill: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'road-hustle',
        label: 'Шукати легких грошей',
        description: 'Ризиковані рішення.',
        effort: 'social',
        baseChance: 0.35,
        path: 'crime',
        successText: 'Ти знаходиш шанс у тіні.',
        failText: 'Тебе проганяють.',
        success: { money: 3, luck: 1, karma: -1 },
        fail: { health: -1 },
      },
    ],
  },

  // Early phase
  {
    id: 'a1-woodshop-day',
    arc: 1,
    phase: 'early',
    vector: 'craft',
    title: 'День у столярні',
    text: 'Тобі дають прості завдання з деревом.',
    choices: [
      {
        id: 'woodshop-work',
        label: 'Працювати старанно',
        description: 'Повільний, але стабільний прогрес.',
        effort: 'physical',
        baseChance: 0.8,
        path: 'craft',
        successText: 'Майстер хвалить твою уважність.',
        failText: 'Ти псуєш матеріал.',
        success: { skill: 2, reputation: 1 },
        fail: { money: -1 },
      },
      {
        id: 'woodshop-ask',
        label: 'Попросити складнішу роботу',
        description: 'Шанс швидше зрости.',
        effort: 'social',
        baseChance: 0.5,
        path: 'craft',
        successText: 'Тобі дають шанс з інструментами.',
        failText: 'Тобі кажуть почекати.',
        success: { skill: 3 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-guard-shift',
    arc: 1,
    phase: 'early',
    vector: 'service',
    title: 'Перша варта',
    text: 'Тебе ставлять на пост біля складів.',
    choices: [
      {
        id: 'guard-diligent',
        label: 'Стояти уважно',
        description: 'Нудно, але надійно.',
        effort: 'mental',
        baseChance: 0.8,
        path: 'service',
        successText: 'Тобі довіряють більше.',
        failText: 'Ти відволікаєшся.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'guard-patrol',
        label: 'Піти в патруль',
        description: 'Можна показати сміливість.',
        effort: 'physical',
        baseChance: 0.55,
        path: 'service',
        successText: 'Ти знаходиш підозрілу людину.',
        failText: 'Ти втомлюєшся без результату.',
        success: { skill: 1, reputation: 1 },
        fail: { fatigue: 1 },
      },
    ],
  },
  {
    id: 'a1-market-stall',
    arc: 1,
    phase: 'early',
    vector: 'trade',
    title: 'Торговий прилавок',
    text: 'Ти допомагаєш продавцю вести торгівлю.',
    choices: [
      {
        id: 'stall-haggle',
        label: 'Торгуватися з клієнтами',
        description: 'Можна збільшити прибуток.',
        effort: 'social',
        baseChance: 0.6,
        path: 'trade',
        successText: 'Ви продаєте дорожче.',
        failText: 'Клієнт іде.',
        success: { money: 3, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'stall-silent',
        label: 'Працювати тихо',
        description: 'Мінімум ризику.',
        effort: 'neutral',
        baseChance: 1,
        path: 'trade',
        successText: 'День проходить спокійно.',
        failText: 'День проходить спокійно.',
        success: { money: 2 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-shadow-job',
    arc: 1,
    phase: 'early',
    vector: 'crime',
    title: 'Тіньова робота',
    text: 'Контакт пропонує перенести пакунок через квартал.',
    choices: [
      {
        id: 'shadow-carry',
        label: 'Прийняти роботу',
        description: 'Гроші швидкі, але ризик.',
        effort: 'physical',
        baseChance: 0.55,
        path: 'crime',
        successText: 'Ти доставляєш пакунок.',
        failText: 'Тебе помічають.',
        success: { money: 4, luck: 1, karma: -2 },
        fail: { health: -1, reputation: -1 },
      },
      {
        id: 'shadow-refuse',
        label: 'Відмовитись',
        description: 'Зберегти спокій.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти залишаєшся чистим.',
        failText: 'Ти залишаєшся чистим.',
        success: { reputation: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-forge-errand',
    arc: 1,
    phase: 'early',
    vector: 'craft',
    title: 'Доручення з кузні',
    text: 'Коваль просить доставити деталі.',
    choices: [
      {
        id: 'forge-deliver',
        label: 'Доставити швидко',
        description: 'Показати надійність.',
        effort: 'physical',
        baseChance: 0.6,
        path: 'craft',
        successText: 'Тебе хвалять за швидкість.',
        failText: 'Ти запізнився.',
        success: { reputation: 1, money: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'forge-ask-learn',
        label: 'Попросити повчити',
        description: 'Шанс на ремесло.',
        effort: 'social',
        baseChance: 0.5,
        path: 'craft',
        successText: 'Майстер показує основи.',
        failText: 'Тобі кажуть: ще рано.',
        success: { skill: 2 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-sick-neighbor',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Хворий сусід',
    text: 'Сусід просить допомоги, але це займе час.',
    choices: [
      {
        id: 'sick-help',
        label: 'Допомогти',
        description: 'Морально правильно.',
        effort: 'social',
        baseChance: 0.7,
        successText: 'Люди помічають твою доброту.',
        failText: 'Допомога була марною.',
        success: { reputation: 2, luck: 1, karma: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'sick-ignore',
        label: 'Ігнорувати',
        description: 'Зекономити час.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти зберігаєш час.',
        failText: 'Ти зберігаєш час.',
        success: { money: 1 },
        fail: {},
      },
      {
        id: 'sick-meds',
        label: 'Пошукати ліки',
        description: 'Шанс заробити довіру.',
        effort: 'mental',
        baseChance: 0.45,
        path: 'trade',
        successText: 'Ти знаходиш дешеві ліки.',
        failText: 'Ліки виявилися фальшивими.',
        success: { reputation: 1, money: -1 },
        fail: { reputation: -1 },
      },
    ],
  },

  // Mid phase
  {
    id: 'a1-apprentice-test',
    arc: 1,
    phase: 'mid',
    vector: 'craft',
    title: 'Випробування учня',
    text: 'Майстер просить зробити просту, але важливу деталь.',
    choices: [
      {
        id: 'apprentice-focus',
        label: 'Працювати уважно',
        description: 'Надійно, але повільно.',
        effort: 'mental',
        baseChance: 0.7,
        path: 'craft',
        successText: 'Ти справляєшся і отримуєш похвалу.',
        failText: 'Деталь виходить криво.',
        success: { skill: 3, reputation: 1 },
        fail: { money: -1 },
      },
      {
        id: 'apprentice-fast',
        label: 'Зробити швидко',
        description: 'Ризик зіпсувати.',
        effort: 'physical',
        baseChance: 0.45,
        path: 'craft',
        successText: 'Ти встигаєш вчасно.',
        failText: 'Річ ламається.',
        success: { money: 3 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-patrol-night',
    arc: 1,
    phase: 'mid',
    vector: 'service',
    title: 'Нічний патруль',
    text: 'Ніч в місті неспокійна. Тобі потрібно тримати порядок.',
    choices: [
      {
        id: 'patrol-brave',
        label: 'Пройти небезпечний квартал',
        description: 'Шанс на повагу.',
        effort: 'physical',
        baseChance: 0.5,
        path: 'service',
        successText: 'Ти зупиняєш бійку.',
        failText: 'Ти отримуєш удар.',
        success: { reputation: 2, skill: 1 },
        fail: { health: -2 },
      },
      {
        id: 'patrol-cautious',
        label: 'Триматись обережно',
        description: 'Менше ризику.',
        effort: 'mental',
        baseChance: 0.7,
        path: 'service',
        successText: 'Зміна проходить тихо.',
        failText: 'Ти пропускаєш дрібну крадіжку.',
        success: { reputation: 1 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-price-haggle',
    arc: 1,
    phase: 'mid',
    vector: 'trade',
    title: 'Торг на межі',
    text: 'Покупець торгується агресивно. Є шанс збільшити прибуток.',
    choices: [
      {
        id: 'haggle-hard',
        label: 'Тиснути на ціну',
        description: 'Можна виграти більше.',
        effort: 'social',
        baseChance: 0.5,
        path: 'trade',
        successText: 'Ти продаєш дорожче.',
        failText: 'Покупець йде.',
        success: { money: 4, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'haggle-fair',
        label: 'Зробити поступку',
        description: 'Краще для репутації.',
        effort: 'social',
        baseChance: 0.8,
        path: 'trade',
        successText: 'Тебе рекомендують іншим.',
        failText: 'Виграш менший.',
        success: { reputation: 2, money: 2 },
        fail: { money: -1 },
      },
    ],
  },
  {
    id: 'a1-contraband-run',
    arc: 1,
    phase: 'mid',
    vector: 'crime',
    title: 'Контрабанда через місто',
    text: 'Потрібно перенести заборонені товари.',
    choices: [
      {
        id: 'contraband-go',
        label: 'Ризикнути',
        description: 'Швидкі гроші.',
        effort: 'physical',
        baseChance: 0.45,
        path: 'crime',
        successText: 'Ти доставляєш товар.',
        failText: 'Варта ловить тебе.',
        success: { money: 6, luck: 1, karma: -2 },
        fail: { money: -2, reputation: -2, health: -1, karma: -1 },
      },
      {
        id: 'contraband-refuse',
        label: 'Відмовитись',
        description: 'Зберегти репутацію.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти тримаєшся осторонь.',
        failText: 'Ти тримаєшся осторонь.',
        success: { reputation: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-harvest-help',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    title: 'Допомога на жнивах',
    text: 'Селяни просять підтримки. Це може відкрити нові контакти.',
    choices: [
      {
        id: 'harvest-help',
        label: 'Допомогти',
        description: 'Здобути довіру.',
        effort: 'physical',
        baseChance: 0.7,
        path: 'craft',
        successText: 'Ти працюєш і отримуєш подяку.',
        failText: 'Ти перевтомився.',
        success: { reputation: 1, money: 2, karma: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'harvest-trade',
        label: 'Купити зерно дешево',
        description: 'Шанс для торгівлі.',
        effort: 'mental',
        baseChance: 0.5,
        path: 'trade',
        successText: 'Ти отримуєш вигідну ціну.',
        failText: 'Тебе підозрюють у спекуляції.',
        success: { money: 3 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-caravan-offer',
    arc: 1,
    phase: 'mid',
    vector: 'trade',
    title: 'Пропозиція каравану',
    text: 'Тобі пропонують короткий торговий рейс.',
    choices: [
      {
        id: 'caravan-join',
        label: 'Приєднатись',
        description: 'Можна добре заробити.',
        effort: 'physical',
        baseChance: 0.55,
        path: 'trade',
        successText: 'Ти повертаєшся з прибутком.',
        failText: 'Рейс проходить невдало.',
        success: { money: 5, reputation: 1 },
        fail: { money: -2 },
      },
      {
        id: 'caravan-guard',
        label: 'Запропонувати охорону',
        description: 'Можливість служби.',
        effort: 'physical',
        baseChance: 0.55,
        path: 'service',
        successText: 'Ти захищаєш вантаж.',
        failText: 'Тебе не беруть.',
        success: { reputation: 2, skill: 1 },
        fail: { reputation: -1 },
      },
    ],
  },

  // Late phase
  {
    id: 'a1-commission-urgent',
    arc: 1,
    phase: 'late',
    vector: 'craft',
    title: 'Термінове замовлення',
    text: 'Майстер дає шанс виконати роботу самостійно.',
    choices: [
      {
        id: 'commission-focus',
        label: 'Працювати обережно',
        description: 'Надійний шлях.',
        effort: 'mental',
        baseChance: 0.55,
        path: 'craft',
        successText: 'Замовник задоволений.',
        failText: 'Робота затягується.',
        success: { skill: 3, reputation: 2, money: 2 },
        fail: { money: -2 },
      },
      {
        id: 'commission-fast',
        label: 'Зробити швидко',
        description: 'Ризик браку.',
        effort: 'physical',
        baseChance: 0.45,
        path: 'craft',
        successText: 'Ти встигаєш вчасно.',
        failText: 'Замовник незадоволений.',
        success: { money: 4 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-guard-recruiter',
    arc: 1,
    phase: 'late',
    vector: 'service',
    title: 'Сержант-рекрутер',
    text: 'Сержант звертає увагу на твою працю.',
    choices: [
      {
        id: 'recruiter-join',
        label: 'Погодитись на підвищення',
        description: 'Ризик, але шанс на статус.',
        effort: 'social',
        baseChance: 0.5,
        path: 'service',
        successText: 'Тобі відкривають шлях у службу.',
        failText: 'Ти не проходиш перевірку.',
        success: { reputation: 3, skill: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'recruiter-decline',
        label: 'Відмовитись',
        description: 'Зберегти свободу.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти залишаєшся на своєму шляху.',
        failText: 'Ти залишаєшся на своєму шляху.',
        success: { reputation: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-partner-deal',
    arc: 1,
    phase: 'late',
    vector: 'trade',
    title: 'Партнерська угода',
    text: 'Торговець пропонує стати напарником.',
    choices: [
      {
        id: 'partner-accept',
        label: 'Погодитись',
        description: 'Шанс на стабільний прибуток.',
        effort: 'social',
        baseChance: 0.55,
        path: 'trade',
        successText: 'Ти закріплюєшся в торгівлі.',
        failText: 'Угода зривається.',
        success: { money: 5, reputation: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'partner-negotiate',
        label: 'Вимагати кращі умови',
        description: 'Можеш виграти більше.',
        effort: 'social',
        baseChance: 0.45,
        path: 'trade',
        successText: 'Ти отримуєш більшу частку.',
        failText: 'Тебе звинувачують у жадібності.',
        success: { money: 7, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-heist-setup',
    arc: 1,
    phase: 'late',
    vector: 'crime',
    title: 'Підготовка до справи',
    text: 'Тобі пропонують участь у серйозній справі.',
    choices: [
      {
        id: 'heist-join',
        label: 'Погодитись',
        description: 'Великий ризик, великі гроші.',
        effort: 'mental',
        baseChance: 0.4,
        path: 'crime',
        successText: 'Ти отримуєш значну частку.',
        failText: 'Справу зривають, ти під підозрою.',
        success: { money: 8, luck: 1, karma: -2 },
        fail: { money: -3, reputation: -3, health: -1, karma: -2 },
      },
      {
        id: 'heist-refuse',
        label: 'Відмовитись',
        description: 'Зберегти обережність.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не зв’язуєшся з ризиком.',
        failText: 'Ти не зв’язуєшся з ризиком.',
        success: { reputation: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-town-council',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    title: 'Голос громади',
    text: 'Місто збирає збори. Ти можеш висловитись.',
    choices: [
      {
        id: 'council-speak',
        label: 'Сказати слово',
        description: 'Ризик і шанс на репутацію.',
        effort: 'social',
        baseChance: 0.5,
        path: 'trade',
        successText: 'Тебе помічають старші.',
        failText: 'Тебе висміюють.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'council-silent',
        label: 'Мовчати',
        description: 'Без ризику.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти спостерігаєш і запам’ятовуєш.',
        failText: 'Ти спостерігаєш і запам’ятовуєш.',
        success: { luck: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-rescue-woods',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    minTurn: 10,
    title: 'Напад у лісі',
    text: 'По дорозі назад ти бачиш напад. Хтось просить допомоги.',
    choices: [
      {
        id: 'rescue-intervene',
        label: 'Втрутитись',
        description: 'Ризик для здоровʼя, але шанс на повагу.',
        minHealth: MIN_HEALTH_FOR_COMBAT,
        effort: 'physical',
        baseChance: 0.45,
        successText: 'Ти відганяєш нападників.',
        failText: 'Тебе ранять.',
        success: { reputation: 3, karma: 2, skill: 1 },
        fail: { health: -3, reputation: -1 },
      },
      {
        id: 'rescue-call',
        label: 'Покликати людей',
        description: 'Безпечніше, але не факт що встигнуть.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Разом ви відганяєте нападників.',
        failText: 'Ніхто не приходить.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'rescue-avoid',
        label: 'Пройти повз',
        description: 'Без ризику, але совість гризе.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: { karma: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-family-talk',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    minTurn: 10,
    minStats: { reputation: 4, karma: 1 },
    title: 'Розмова про сім’ю',
    text: 'Після останніх подій з’являються люди, які бачать у тобі надійність.',
    choices: [
      {
        id: 'family-consider',
        label: 'Погодитись на зустріч',
        description: 'Гачок для майбутнього.',
        minHealth: MIN_HEALTH_FOR_FAMILY,
        effort: 'social',
        baseChance: 0.6,
        successText: 'Ти заводиш корисні знайомства.',
        failText: 'Спроба не вдалася.',
        success: { reputation: 2, family: 1, money: -2 },
        fail: { reputation: -1 },
      },
      {
        id: 'family-delay',
        label: 'Відкласти',
        description: 'Не час для цього.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти залишаєш це на потім.',
        failText: 'Ти залишаєш це на потім.',
        success: {},
        fail: {},
      },
    ],
  },
  // Lore & exploration (early)
  {
    id: 'a1-rumor-map',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Чутки про карту',
    text: 'Старий мандрівник шепоче про карту підземних ходів. Він просить хліба в обмін на знання.',
    choices: [
      {
        id: 'rumor-pay',
        label: 'Поділитись хлібом',
        description: 'Ти віддаєш останнє, але чуєш правду.',
        effort: 'social',
        baseChance: 0.75,
        successText: 'Ти отримуєш уривки історії міста.',
        failText: 'Старий тікає, не сказавши нічого.',
        success: { reputation: 1, karma: 1, luck: 1, money: -1 },
        fail: { reputation: -1 },
      },
      {
        id: 'rumor-ignore',
        label: 'Відмовитись',
        description: 'Ти не ризикуєш.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'a1-city-chronicle',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Літописець на площі',
    text: 'Сивий літописець читає історію міста. Люди слухають, але більшість проходить повз.',
    choices: [
      {
        id: 'chronicle-listen',
        label: 'Послухати',
        description: 'Ти витрачаєш час, але отримуєш знання.',
        effort: 'mental',
        baseChance: 0.8,
        successText: 'Ти дізнаєшся про старі закони й роди.',
        failText: 'Ти втрачаєш час без користі.',
        success: { luck: 1, karma: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'chronicle-ask',
        label: 'Поставити питання',
        description: 'Можеш здобути прихильність.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Літописець звертає увагу на тебе.',
        failText: 'Тебе відганяють як жебрака.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-shrine-night',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Ніч біля каплички',
    text: 'Ти знаходиш маленьку капличку. Там тихо і спокійно, але є дивні знаки.',
    choices: [
      {
        id: 'shrine-rest',
        label: 'Відпочити',
        description: 'Відновити сили.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти відчуваєш спокій.',
        failText: 'Ти відчуваєш спокій.',
        success: { health: 1, fatigue: -1, karma: 1 },
        fail: {},
      },
      {
        id: 'shrine-steal',
        label: 'Забрати пожертву',
        description: 'Ризик для репутації.',
        effort: 'social',
        baseChance: 0.3,
        successText: 'Ти береш дрібні монети.',
        failText: 'Тебе бачать.',
        success: { money: 3, karma: -3 },
        fail: { reputation: -2, karma: -2 },
      },
    ],
  },

  // Lore & exploration (mid)
  {
    id: 'a1-hidden-yard',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    title: 'Прихований двір',
    text: 'Ти знаходиш тихий двір із тренуваннями. Можна приєднатись або піти.',
    choices: [
      {
        id: 'yard-train',
        label: 'Спробувати тренування',
        description: 'Покращення, але не без ризику.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти витримуєш темп.',
        failText: 'Ти отримуєш синяк і ганьбу.',
        success: { skill: 2, reputation: 1 },
        fail: { health: -2, reputation: -1 },
      },
      {
        id: 'yard-observe',
        label: 'Спостерігати',
        description: 'Безпечно, але повільно.',
        effort: 'mental',
        baseChance: 0.7,
        successText: 'Ти вивчаєш рухи і тактики.',
        failText: 'Тебе не пускають близько.',
        success: { skill: 1 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-ruins-whisper',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    title: 'Шепіт руїн',
    text: 'Ти чуєш, що за стінами старих руїн сховані книги та дивні символи.',
    choices: [
      {
        id: 'ruins-enter',
        label: 'Зайти всередину',
        description: 'Ризик, але шанс на знання.',
        effort: 'mental',
        baseChance: 0.4,
        successText: 'Ти знаходиш старі записи.',
        failText: 'Ти губишся і втрачаєш час.',
        success: { luck: 1, karma: 1, reputation: 1 },
        fail: { fatigue: 2 },
      },
      {
        id: 'ruins-hire',
        label: 'Найняти провідника',
        description: 'Безпечніше, але дорого.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Провідник веде тебе безпечно.',
        failText: 'Тебе ошукують.',
        success: { money: -2, luck: 1 },
        fail: { money: -2, reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-market-story',
    arc: 1,
    phase: 'mid',
    vector: 'trade',
    title: 'Історія купця',
    text: 'Купець розповідає, як вижив у чужих містах. У тебе є шанс навчитись.',
    choices: [
      {
        id: 'story-listen',
        label: 'Слухати уважно',
        description: 'Знання цінне.',
        effort: 'mental',
        baseChance: 0.75,
        path: 'trade',
        successText: 'Ти вивчаєш прийоми торгу.',
        failText: 'Ти відволікаєшся і нічого не запам’ятовуєш.',
        success: { reputation: 1, money: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'story-argue',
        label: 'Сумніватися в історії',
        description: 'Можливо, ти викриєш брехню.',
        effort: 'social',
        baseChance: 0.35,
        path: 'trade',
        successText: 'Купець визнає перебільшення.',
        failText: 'Ти псуєш стосунки.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2 },
      },
    ],
  },

  // Lore & exploration (late)
  {
    id: 'a1-mentor-choice',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    title: 'Порада наставника',
    text: 'Хтось з досвідом бачить твій шлях і пропонує пораду.',
    choices: [
      {
        id: 'mentor-accept',
        label: 'Прислухатись',
        description: 'Підсилити обраний шлях.',
        effort: 'social',
        baseChance: 0.65,
        successText: 'Порада допомагає визначитись.',
        failText: 'Порада виявляється марною.',
        success: { reputation: 2, karma: 1, luck: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'mentor-ignore',
        label: 'Ігнорувати',
        description: 'Ти йдеш своїм шляхом.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти лишаєшся незалежним.',
        failText: 'Ти лишаєшся незалежним.',
        success: { luck: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-city-secret',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    title: 'Таємниця міста',
    text: 'Ти чуєш про старий підземний прохід під містом. Це може бути небезпечно.',
    choices: [
      {
        id: 'secret-enter',
        label: 'Зайти в прохід',
        description: 'Сміливий крок.',
        effort: 'mental',
        baseChance: 0.35,
        successText: 'Ти знаходиш схованку з дрібними речами.',
        failText: 'Ти губишся і виходиш виснаженим.',
        success: { money: 4, luck: 1, karma: -1 },
        fail: { health: -2, fatigue: 2 },
      },
      {
        id: 'secret-report',
        label: 'Повідомити варту',
        description: 'Безпечніше і чесніше.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Варта дякує за інформацію.',
        failText: 'Твої слова ігнорують.',
        success: { reputation: 2, karma: 2 },
        fail: { reputation: -1 },
      },
    ],
  },

  // Lore & exploration (early) - extra
  {
    id: 'a1-traveler-tale',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Оповідь мандрівника',
    text: 'Біля криниці мандрівник розповідає про північні землі й дивні звичаї.',
    choices: [
      {
        id: 'traveler-listen',
        label: 'Слухати уважно',
        description: 'Знання може стати корисним.',
        effort: 'mental',
        baseChance: 0.75,
        successText: 'Ти запам’ятовуєш шлях і легенди.',
        failText: 'Ти втрачаєш увагу.',
        success: { luck: 1, karma: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'traveler-question',
        label: 'Поставити гострі питання',
        description: 'Можна викрити брехню.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Мандрівник відкриває більше деталей.',
        failText: 'Ти сваришся з ним.',
        success: { reputation: 2 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-church-conflict',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    title: 'Суперечка біля храму',
    text: 'Двоє людей сперечаються про справедливість. Ти можеш втрутитись.',
    choices: [
      {
        id: 'church-justice',
        label: 'Стати на бік слабшого',
        description: 'Ризик для репутації, але це чесно.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Люди помічають твою справедливість.',
        failText: 'Тебе висміюють.',
        success: { reputation: 2, karma: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'church-ignore',
        label: 'Пройти повз',
        description: 'Без ризику.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не втручаєшся.',
        failText: 'Ти не втручаєшся.',
        success: {},
        fail: {},
      },
    ],
  },

  // Lore & exploration (mid) - extra
  {
    id: 'a1-old-library',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    title: 'Стара бібліотека',
    text: 'Ти знаходиш зачинені двері бібліотеки. Хтось може пустити тебе всередину.',
    choices: [
      {
        id: 'library-ask',
        label: 'Попросити доступ',
        description: 'Можеш здобути знання.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Тебе допускають до читання.',
        failText: 'Тебе відправляють геть.',
        success: { reputation: 1, luck: 1, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'library-sneak',
        label: 'Пробратися всередину',
        description: 'Ризикована спроба.',
        effort: 'social',
        baseChance: 0.3,
        successText: 'Ти знаходиш корисний запис.',
        failText: 'Тебе ловлять.',
        success: { luck: 2, karma: -2 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-healer-camp',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    title: 'Табір цілителя',
    text: 'Цілитель збирає людей і вчить простих правил виживання.',
    choices: [
      {
        id: 'healer-help',
        label: 'Допомогти в таборі',
        description: 'Можеш навчитися лікуванню.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Ти вивчаєш базові знання.',
        failText: 'Робота виснажує.',
        success: { health: 1, karma: 1 },
        fail: { fatigue: 2 },
      },
      {
        id: 'healer-steal',
        label: 'Взяти припаси',
        description: 'Швидко, але брудно.',
        effort: 'social',
        baseChance: 0.35,
        successText: 'Ти забираєш трохи припасів.',
        failText: 'Тебе ловлять.',
        success: { money: 3, karma: -2 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },

  // Lore & exploration (late) - extra
  {
    id: 'a1-court-rumor',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    title: 'Плітки про раду',
    text: 'Ти чуєш, що в місті з’являються нові правила. Це може змінити життя.',
    choices: [
      {
        id: 'court-listen',
        label: 'Слухати уважно',
        description: 'Знання дає перевагу.',
        effort: 'mental',
        baseChance: 0.7,
        successText: 'Ти дізнаєшся про нові закони.',
        failText: 'Ти плутаєш факти.',
        success: { reputation: 1, luck: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'court-spread',
        label: 'Поширити чутки',
        description: 'Може нашкодити.',
        effort: 'social',
        baseChance: 0.35,
        successText: 'Ти отримуєш вплив.',
        failText: 'Тебе звинувачують у брехні.',
        success: { reputation: 2, karma: -1 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'a1-night-watch',
    arc: 1,
    phase: 'late',
    vector: 'neutral',
    title: 'Нічний нагляд',
    text: 'Тебе просять допомогти вночі, коли місто засинає.',
    choices: [
      {
        id: 'watch-help',
        label: 'Погодитись',
        description: 'Можеш здобути повагу.',
        effort: 'physical',
        baseChance: 0.55,
        successText: 'Ти витримуєш ніч.',
        failText: 'Ти засинаєш на посту.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, fatigue: 2 },
      },
      {
        id: 'watch-decline',
        label: 'Відмовитись',
        description: 'Зберегти сили.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти відпочиваєш.',
        failText: 'Ти відпочиваєш.',
        success: { fatigue: -1 },
        fail: {},
      },
    ],
  },

  // Survival scenes (trigger when broke or hungry)
  {
    id: 'a1-hunger-scraps',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    minTurn: 2,
    maxStats: { money: 0 },
    title: 'Пошук їжі',
    text: 'Голод стискає живіт. Ти шукаєш будь-яку їжу.',
    choices: [
      {
        id: 'scraps-dumpster',
        label: 'Їсти зі смітника',
        description: 'Неприємно, але швидко.',
        effort: 'physical',
        baseChance: 0.75,
        successText: 'Ти знаходиш щось їстівне.',
        failText: 'Тебе проганяють.',
        success: { hungerDebt: -1, health: -1, karma: -1 },
        fail: { reputation: -1 },
      },
      {
        id: 'scraps-beg',
        label: 'Просити їжу',
        description: 'Шанс на співчуття.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Тобі дають трохи хліба.',
        failText: 'Тебе ігнорують.',
        success: { hungerDebt: -1, reputation: 1, karma: 1 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'a1-hunger-nightwork',
    arc: 1,
    phase: 'early',
    vector: 'neutral',
    minTurn: 2,
    maxStats: { money: 0 },
    title: 'Нічний підробіток',
    text: 'Ти чуєш, що вночі потрібні руки на важку роботу.',
    choices: [
      {
        id: 'nightwork-accept',
        label: 'Піти на підробіток',
        description: 'Виснажливо, але приносить гроші.',
        effort: 'physical',
        baseChance: 0.55,
        successText: 'Ти заробляєш трохи монет.',
        failText: 'Ти валишся від втоми.',
        success: { money: 2, fatigue: 2 },
        fail: { health: -1, fatigue: 2 },
      },
      {
        id: 'nightwork-decline',
        label: 'Відмовитись',
        description: 'Зберегти сили.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти бережеш здоровʼя.',
        failText: 'Ти бережеш здоровʼя.',
        success: { health: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'a1-hunger-loan',
    arc: 1,
    phase: 'mid',
    vector: 'neutral',
    minTurn: 4,
    maxStats: { money: 1 },
    title: 'Позичити хліб',
    text: 'Хтось може позичити тобі їжу, але доведеться віддячити.',
    choices: [
      {
        id: 'loan-ask',
        label: 'Попросити позику',
        description: 'Спроба знайти підтримку.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Тобі допомагають.',
        failText: 'Тобі відмовляють.',
        success: { hungerDebt: -2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'loan-avoid',
        label: 'Відмовитись',
        description: 'Не хочеш боргів.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти залишаєшся при своєму.',
        failText: 'Ти залишаєшся при своєму.',
        success: {},
        fail: {},
      },
    ],
  },

];

const backlogScenes: Scene[] = [

  {
    id: 'dockwork',
    title: 'Робота на річкових доках',
    text: 'Бригадир пропонує день важкої роботи з вантажами.',
    choices: [
      {
        id: 'take-shift',
        label: 'Взяти зміну',
        description: 'Стабільна платня, ризик виснаження.',
        effort: 'physical',
        baseChance: 0.85,
        successText: 'Ти завершуєш зміну і отримуєш платню.',
        failText: 'Перевтома: падаєш до завершення роботи.',
        success: { money: 3, skill: 1 },
        fail: { health: -2, reputation: -1 },
      },
      {
        id: 'demand-more',
        label: 'Вимагати вищу платню',
        description: 'Може підняти репутацію або відштовхнути.',
        effort: 'social',
        baseChance: 0.35,
        successText: 'Бригадир погоджується. Ти виглядаєш сміливо.',
        failText: 'Він сміється і проганяє тебе.',
        success: { money: 5, reputation: 2, luck: 1 },
        fail: { reputation: -1, luck: -1 },
      },
      {
        id: 'ask-apprentice',
        label: 'Попросити вчитися',
        description: 'Менше грошей, але шанс на навички.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тобі дозволяють допомагати й вчитися.',
        failText: 'Тебе не беруть без досвіду.',
        success: { skill: 2, reputation: 1, money: -1 },
        fail: { reputation: -1 },
      },
      {
        id: 'rest-day',
        label: 'Взяти день відпочинку',
        description: 'Без заробітку, але відновлення.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти відновлюєш сили та здоровʼя.',
        failText: 'Ти відновлюєш сили та здоровʼя.',
        success: { health: 2, fatigue: -2 },
        fail: {},
      },
    ],
  },
  {
    id: 'alley-favor',
    title: 'Сумнівна послуга',
    text: 'Контрабандист просить перенести запечатаний пакунок через місто.',
    choices: [
      {
        id: 'carry-package',
        label: 'Перенести пакунок',
        description: 'Швидкі гроші, але ризик проблем.',
        effort: 'physical',
        baseChance: 0.55,
        successText: 'Ти доставляєш пакунок і отримуєш платню.',
        failText: 'Тебе зупиняють вартові. Ти тікаєш, але втрачаєш обличчя.',
        success: { money: 6, reputation: -1, luck: 1 },
        fail: { reputation: -2, health: -1, luck: -1 },
      },
      {
        id: 'refuse',
        label: 'Відмовитись',
        description: 'Безпечніше, але без вигоди.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти тримаєшся осторонь і не ризикуєш.',
        failText: 'Ти тримаєшся осторонь і не ризикуєш.',
        success: { reputation: 1 },
        fail: {},
      },
      {
        id: 'negotiate',
        label: 'Домовитись про частку',
        description: 'Спроба підняти винагороду.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Він погоджується на більшу частку.',
        failText: 'Він ображається і відходить.',
        success: { money: 8, reputation: -1, luck: 1 },
        fail: { reputation: -2, luck: -1 },
      },
      {
        id: 'tip-guards',
        label: 'Попередити варту',
        description: 'Ризиковано, але шанс на репутацію.',
        effort: 'social',
        baseChance: 0.35,
        successText: 'Варта вдячна. Твоє імʼя звучить краще.',
        failText: 'Контрабандист дізнається і мститься.',
        success: { reputation: 3, luck: 1 },
        fail: { health: -2, money: -1, luck: -1 },
      },
    ],
  },
  {
    id: 'training-yard',
    title: 'Тренувальний двір',
    text: 'Відставний солдат пропонує навчання в обмін на роботу.',
    choices: [
      {
        id: 'train',
        label: 'Тренуватись',
        description: 'Повільний прогрес, але стабільно.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти вчишся дисципліні та основам бою.',
        failText: 'Ти не вразив наставника й тебе відпускають.',
        success: { skill: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'skip-train',
        label: 'Пропустити',
        description: 'Без ризику, але й без росту.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти зберігаєш час для інших справ.',
        failText: 'Ти зберігаєш час для інших справ.',
        success: { fatigue: -1 },
        fail: {},
      },
      {
        id: 'sparring',
        label: 'Вийти на спаринг',
        description: 'Швидкий прогрес або травма.',
        minHealth: MIN_HEALTH_FOR_COMBAT,
        effort: 'physical',
        baseChance: 0.45,
        successText: 'Ти показуєш силу і здобуваєш повагу.',
        failText: 'Ти отримуєш удар і втрачаєш здоровʼя.',
        success: { skill: 3, reputation: 2 },
        fail: { health: -3 },
      },
      {
        id: 'errands',
        label: 'Допомагати по двору',
        description: 'Трохи грошей за дрібні справи.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти працюєш і отримуєш невелику платню.',
        failText: 'Тебе відпускають без оплати.',
        success: { money: 2 },
        fail: {},
      },
    ],
  },
  {
    id: 'family-home',
    title: 'Розмова про сімʼю',
    text: 'Тобі пропонують осісти й створити сімʼю.',
    minStage: 'Rising',
    choices: [
      {
        id: 'start-family',
        label: 'Зробити крок',
        description: 'Стабільність і тягарі.',
        minHealth: MIN_HEALTH_FOR_FAMILY,
        effort: 'social',
        baseChance: 0.6,
        successText: 'Ти знаходиш пару. Сімʼя зʼявляється.',
        failText: 'Спроба не вдалася, але ти вчишся терпінню.',
        success: { reputation: 2, family: 1, money: -2 },
        fail: { reputation: -1 },
      },
      {
        id: 'delay-family',
        label: 'Відкласти',
        description: 'Не час для зобовʼязань.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти відкладаєш це рішення.',
        failText: 'Ти відкладаєш це рішення.',
        success: {},
        fail: {},
      },
      {
        id: 'matchmaker',
        label: 'Звернутись до свахи',
        description: 'Шанс на сильні звʼязки.',
        minHealth: MIN_HEALTH_FOR_FAMILY,
        effort: 'social',
        baseChance: 0.45,
        successText: 'Сваха знаходить добру пару.',
        failText: 'Спроба лише марнує гроші.',
        success: { family: 1, reputation: 3, money: -3 },
        fail: { money: -2 },
      },
      {
        id: 'focus-work',
        label: 'Зосередитись на праці',
        description: 'Підсилює стабільність, але самотньо.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти збільшуєш дохід, жертвуючи особистим.',
        failText: 'Ти перевтомлюєшся і втрачаєш здоровʼя.',
        success: { money: 3 },
        fail: { health: -2 },
      },
    ],
  },
  {
    id: 'family-growth',
    title: 'Поповнення в домі',
    text: 'Є шанс, що сімʼя збільшиться.',
    minStage: 'Established',
    choices: [
      {
        id: 'support-family',
        label: 'Підтримати',
        description: 'Більше турбот і відповідальності.',
        minHealth: MIN_HEALTH_FOR_FAMILY,
        effort: 'social',
        baseChance: 0.5,
        successText: 'У твоїй сімʼї народжується дитина.',
        failText: 'Зараз не вийшло, але звʼязок міцніший.',
        success: { family: 1, reputation: 1, money: -1 },
        fail: { reputation: 1 },
      },
      {
        id: 'postpone-growth',
        label: 'Стриматися',
        description: 'Зосередитись на виживанні.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти бережеш ресурси на інші цілі.',
        failText: 'Ти бережеш ресурси на інші цілі.',
        success: {},
        fail: {},
      },
      {
        id: 'hire-help',
        label: 'Найняти поміч',
        description: 'Полегшує побут, але коштує.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Дім стає організованішим.',
        failText: 'Поміч виявляється ненадійним.',
        success: { reputation: 1, money: -2 },
        fail: { money: -2 },
      },
      {
        id: 'move-home',
        label: 'Переїхати у кращий дім',
        description: 'Шанс на статус або борги.',
        effort: 'physical',
        baseChance: 0.4,
        successText: 'Ти піднімаєш статус сімʼї.',
        failText: 'Оренда тисне і шкодить бюджету.',
        success: { reputation: 2, money: -3 },
        fail: { money: -4 },
      },
    ],
  },
  {
    id: 'market-stall',
    title: 'Ринковий прилавок',
    text: 'Купцю потрібна допомога з продажем товарів.',
    minStage: 'Rising',
    choices: [
      {
        id: 'work-market',
        label: 'Допомогти купцю',
        description: 'Зміцнює репутацію та зв’язки.',
        effort: 'social',
        baseChance: 0.75,
        successText: 'Продажі високі. Купець тебе хвалить.',
        failText: 'Ти плутаєшся в грошах і втрачаєш довіру.',
        success: { money: 4, reputation: 3 },
        fail: { reputation: -2, money: -1 },
      },
      {
        id: 'buy-cheap',
        label: 'Купити дешевий товар',
        description: 'Невеликий ризик за власні гроші.',
        effort: 'mental',
        baseChance: 0.45,
        successText: 'Ти продаєш товар із прибутком.',
        failText: 'Товар псується, ти втрачаєш гроші.',
        success: { money: 8, reputation: 1 },
        fail: { money: -4 },
      },
      {
        id: 'haggle',
        label: 'Торгуватись з покупцями',
        description: 'Може підняти прибуток або дратувати людей.',
        effort: 'social',
        baseChance: 0.55,
        successText: 'Ти вибиваєш кращу ціну.',
        failText: 'Покупці незадоволені й йдуть.',
        success: { money: 3, reputation: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'scout-routes',
        label: 'Розвідати нові маршрути',
        description: 'Ризик, але шанс на ріст репутації.',
        effort: 'physical',
        baseChance: 0.4,
        successText: 'Ти знаходиш вигідний шлях постачання.',
        failText: 'Ти марнуєш час без користі.',
        success: { reputation: 3, skill: 1 },
        fail: { reputation: -1 },
      },
    ],
  },
  {
    id: 'town-guard',
    title: 'Міська варта',
    text: 'Капітан шукає нових людей для охорони воріт.',
    minStage: 'Established',
    choices: [
      {
        id: 'join-guard',
        label: 'Вступити до варти',
        description: 'Стабільна платня, але є ризики.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тебе приймають, ти маєш стабільний дохід.',
        failText: 'Тебе відмовляють через низький статус.',
        success: { money: 6, reputation: 4, skill: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'challenge-duel',
        label: 'Викликати задираку',
        description: 'Ризикований показ сили.',
        minHealth: MIN_HEALTH_FOR_COMBAT,
        effort: 'physical',
        baseChance: 0.4,
        successText: 'Ти виграєш двобій. Люди це пам’ятають.',
        failText: 'Ти програєш і кульгаєш геть.',
        success: { reputation: 5, skill: 1 },
        fail: { health: -3, reputation: -3 },
      },
      {
        id: 'bribe-clerk',
        label: 'Домовитись через писаря',
        description: 'Платиш за швидше оформлення.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Тебе приймають без зайвих питань.',
        failText: 'Гроші зникають, а місця немає.',
        success: { reputation: 2, money: -2 },
        fail: { money: -3 },
      },
      {
        id: 'night-watch',
        label: 'Взяти нічну варту',
        description: 'Важко, але помітно.',
        effort: 'physical',
        baseChance: 0.65,
        successText: 'Ти витримуєш ніч і здобуваєш повагу.',
        failText: 'Ти засинаєш на посту й отримуєш осуд.',
        success: { reputation: 2, money: 2 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'noble-court',
    title: 'Двір шляхтича',
    text: 'Малий шляхтич пропонує покровительство, якщо доведеш цінність.',
    minStage: 'Noble',
    choices: [
      {
        id: 'offer-service',
        label: 'Запропонувати службу',
        description: 'Високий статус, але велика ціна.',
        effort: 'social',
        baseChance: 0.55,
        successText: 'Ти отримуєш сильного покровителя.',
        failText: 'Тебе відпускають як посереднього.',
        success: { reputation: 8, money: 6 },
        fail: { reputation: -3 },
      },
      {
        id: 'broker-deal',
        label: 'Укласти торгову угоду',
        description: 'Використати становище заради прибутку.',
        effort: 'mental',
        baseChance: 0.45,
        successText: 'Твоя угода збагачує обидві сторони.',
        failText: 'План провалюється і шкодить імені.',
        success: { money: 12, reputation: 4 },
        fail: { reputation: -4, money: -3 },
      },
      {
        id: 'host-feast',
        label: 'Організувати прийом',
        description: 'Великий шанс на славу або ганьбу.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Прийом вдається і ти вражаєш двір.',
        failText: 'Гості незадоволені. Твоє імʼя страждає.',
        success: { reputation: 6, money: -4 },
        fail: { reputation: -5, money: -2 },
      },
      {
        id: 'seek-alliances',
        label: 'Шукати союзів',
        description: 'Тонка гра зі статусами.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Ти знаходиш впливового союзника.',
        failText: 'Ти ображаєш важливу персону.',
        success: { reputation: 5, skill: 1 },
        fail: { reputation: -4 },
      },
    ],
  },
  {
    id: 'tavern-night',
    title: 'Ніч у таверні',
    text: 'У таверні шумно: тут і чутки, і ризики.',
    choices: [
      {
        id: 'listen-rumors',
        label: 'Слухати чутки',
        description: 'Шанс на корисну інформацію.',
        baseChance: 0.6,
        successText: 'Ти дізнаєшся про вигідну можливість.',
        failText: 'Плітки виявляються порожніми.',
        success: { reputation: 1, skill: 1 },
        fail: {},
      },
      {
        id: 'gamble-coins',
        label: 'Грати в кості',
        description: 'Ризик заради швидких грошей.',
        baseChance: 0.4,
        successText: 'Ти виграєш і виходиш у плюс.',
        failText: 'Ти програєш і лишаєшся без монет.',
        success: { money: 4 },
        fail: { money: -3 },
      },
      {
        id: 'help-barkeep',
        label: 'Допомогти шинкарю',
        description: 'Невеликий заробіток і повага.',
        baseChance: 0.8,
        successText: 'Ти чесно відпрацьовуєш вечір.',
        failText: 'Втома бере своє, ти не справляєшся.',
        success: { money: 2, reputation: 1 },
        fail: { health: -1 },
      },
      {
        id: 'avoid-trouble',
        label: 'Триматися осторонь',
        description: 'Безпечно, але без користі.',
        baseChance: 1,
        successText: 'Ти уникаєш конфліктів і йдеш рано.',
        failText: 'Ти уникаєш конфліктів і йдеш рано.',
        success: { health: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'monastery-visit',
    title: 'Монастирські ворота',
    text: 'Братія просить допомоги в обмін на притулок.',
    choices: [
      {
        id: 'work-monastery',
        label: 'Допомогти в монастирі',
        description: 'Спокій і невелика винагорода.',
        baseChance: 0.75,
        successText: 'Ти отримуєш їжу та благословення.',
        failText: 'Ти сваришся з братією і йдеш.',
        success: { health: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'seek-education',
        label: 'Просити навчання',
        description: 'Шанс на вміння, але не для всіх.',
        baseChance: 0.45,
        successText: 'Тобі дозволяють навчатися письма.',
        failText: 'Тобі відмовляють як занадто необізнаному.',
        success: { skill: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'donate',
        label: 'Зробити пожертву',
        description: 'Піднімає репутацію.',
        baseChance: 0.9,
        successText: 'Тебе згадують добрим словом.',
        failText: 'Твоїх монет замало, тебе не помічають.',
        success: { reputation: 2, money: -1 },
        fail: {},
      },
      {
        id: 'move-on',
        label: 'Йти далі',
        description: 'Без змін.',
        baseChance: 1,
        successText: 'Ти вирішуєш не затримуватись.',
        failText: 'Ти вирішуєш не затримуватись.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'road-ambush',
    title: 'Неспокійна дорога',
    text: 'На околицях з’являються розбійники.',
    minStage: 'Rising',
    choices: [
      {
        id: 'join-caravan',
        label: 'Приєднатися до каравану',
        description: 'Безпечніше, але менше вигоди.',
        baseChance: 0.7,
        successText: 'Ти проходиш шлях без втрат.',
        failText: 'Караван атакують, ти втрачаєш частину майна.',
        success: { reputation: 1 },
        fail: { money: -2, health: -1 },
      },
      {
        id: 'take-shortcut',
        label: 'Йти коротким шляхом',
        description: 'Швидко, але небезпечно.',
        baseChance: 0.35,
        successText: 'Ти успішно минаєш пастки.',
        failText: 'Розбійники забирають твої гроші.',
        success: { skill: 1 },
        fail: { money: -4, health: -2 },
      },
      {
        id: 'hire-guard',
        label: 'Найняти охорону',
        description: 'Дорого, зате надійно.',
        baseChance: 0.8,
        successText: 'Охорона відганяє нападників.',
        failText: 'Охорона тікає, ти втрачаєш монети.',
        success: { reputation: 1, money: -2 },
        fail: { money: -3 },
      },
      {
        id: 'avoid-roads',
        label: 'Уникати доріг',
        description: 'Повільно, але безпечно.',
        baseChance: 1,
        successText: 'Ти йдеш обхідними шляхами.',
        failText: 'Ти йдеш обхідними шляхами.',
        success: { health: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'guild-offer',
    title: 'Гільдійна пропозиція',
    text: 'Майстер гільдії оцінює твої вміння.',
    minStage: 'Established',
    choices: [
      {
        id: 'join-guild',
        label: 'Вступити до гільдії',
        description: 'Стабільність і вплив.',
        baseChance: 0.6,
        successText: 'Ти отримуєш підтримку гільдії.',
        failText: 'Тобі відмовляють через нестачу репутації.',
        success: { reputation: 3, money: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'pay-fee',
        label: 'Заплатити внесок',
        description: 'Гарантує розгляд заявки.',
        baseChance: 0.7,
        successText: 'Твою заявку приймають.',
        failText: 'Гроші зникають без результату.',
        success: { reputation: 2, money: -2 },
        fail: { money: -3 },
      },
      {
        id: 'show-skill',
        label: 'Показати майстерність',
        description: 'Ризикований показ уміння.',
        baseChance: 0.5,
        successText: 'Ти вражаєш майстра.',
        failText: 'Ти помиляєшся і губиш репутацію.',
        success: { skill: 2, reputation: 2 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'stay-independent',
        label: 'Лишитись незалежним',
        description: 'Без зобовʼязань.',
        baseChance: 1,
        successText: 'Ти зберігаєш свободу.',
        failText: 'Ти зберігаєш свободу.',
        success: { money: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'healer-visit',
    title: 'У знахаря',
    text: 'Місцевий знахар пропонує лікування або трави.',
    choices: [
      {
        id: 'buy-herbs',
        label: 'Купити трави',
        description: 'Може покращити здоровʼя.',
        baseChance: 0.7,
        successText: 'Тобі стає значно краще.',
        failText: 'Трави не допомагають.',
        success: { health: 3, money: -1 },
        fail: { money: -1 },
      },
      {
        id: 'free-help',
        label: 'Попросити безкоштовно',
        description: 'Може спрацювати через репутацію.',
        baseChance: 0.4,
        successText: 'Знахар допомагає з милості.',
        failText: 'Тебе ввічливо відправляють.',
        success: { health: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'barter',
        label: 'Обміняти роботу на лікування',
        description: 'Без монет, але з часом.',
        baseChance: 0.6,
        successText: 'Ти відпрацьовуєш і одужуєш.',
        failText: 'Ти виснажуєшся і йдеш.',
        success: { health: 2, money: 1 },
        fail: { health: -1 },
      },
      {
        id: 'ignore-healer',
        label: 'Ігнорувати',
        description: 'Без змін.',
        baseChance: 1,
        successText: 'Ти йдеш далі без лікування.',
        failText: 'Ти йдеш далі без лікування.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'blacksmith-yard',
    title: 'Кузня',
    text: 'Коваль шукає помічника на день.',
    choices: [
      {
        id: 'forge-help',
        label: 'Допомагати в кузні',
        description: 'Втомлює, але дає гроші й силу.',
        effort: 'physical',
        baseChance: 0.75,
        successText: 'Ти витримуєш гарячий день і отримуєш платню.',
        failText: 'Ти обпікаєшся і йдеш раніше.',
        success: { money: 3, skill: 1 },
        fail: { health: -2 },
      },
      {
        id: 'learn-craft',
        label: 'Просити навчити ремеслу',
        description: 'Шанс на навички.',
        effort: 'mental',
        baseChance: 0.5,
        successText: 'Коваль показує основи.',
        failText: 'Коваль відмовляє.',
        success: { skill: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'sell-charcoal',
        label: 'Продавати вугілля',
        description: 'Невеликий прибуток.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти продаєш кілька мішків.',
        failText: 'Покупців мало.',
        success: { money: 2 },
        fail: {},
      },
      {
        id: 'leave-forge',
        label: 'Піти далі',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не затримуєшся.',
        failText: 'Ти не затримуєшся.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'winter-cold',
    title: 'Зимовий холод',
    text: 'Ночі холодні, дах потрібен більше ніж будь-коли.',
    season: 'Winter',
    choices: [
      {
        id: 'rent-corner',
        label: 'Орендувати куток',
        description: 'Безпечно, але дорого.',
        effort: 'rest',
        baseChance: 0.9,
        successText: 'Ти грієшся і набираєшся сил.',
        failText: 'Ти не знаходиш місця.',
        success: { money: -2, health: 2, fatigue: -1 },
        fail: { health: -2 },
      },
      {
        id: 'share-fire',
        label: 'Поділити вогонь',
        description: 'Шанс на доброзичливість.',
        effort: 'rest',
        baseChance: 0.6,
        successText: 'Тебе приймають до вогню.',
        failText: 'Тебе проганяють.',
        success: { reputation: 1, health: 1, fatigue: -1 },
        fail: { health: -1 },
      },
      {
        id: 'work-night',
        label: 'Працювати вночі',
        description: 'Заробіток ціною виснаження.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти заробляєш, але виснажуєшся.',
        failText: 'Ти змерзаєш і втрачаєш сили.',
        success: { money: 3, health: -1, fatigue: 1 },
        fail: { health: -2, fatigue: 1 },
      },
      {
        id: 'endure-cold',
        label: 'Терпіти',
        description: 'Без витрат, але ризик.',
        effort: 'physical',
        baseChance: 0.4,
        successText: 'Ти переживаєш ніч.',
        failText: 'Ти захворюєш.',
        success: {},
        fail: { health: -3 },
      },
    ],
  },
  {
    id: 'snowstorm-road',
    title: 'Сніжна буря',
    text: 'Вітер зносить сліди, дорога майже зникає.',
    season: 'Winter',
    choices: [
      {
        id: 'seek-shelter',
        label: 'Знайти укриття',
        description: 'Безпека, але час і гроші.',
        effort: 'rest',
        baseChance: 0.75,
        successText: 'Ти перечікуєш бурю.',
        failText: 'Місця немає.',
        success: { money: -1, health: 1, fatigue: -1 },
        fail: { health: -2 },
      },
      {
        id: 'push-through',
        label: 'Йти крізь бурю',
        description: 'Швидко, але ризиковано.',
        effort: 'physical',
        baseChance: 0.45,
        successText: 'Ти проходиш шлях.',
        failText: 'Ти збиваєшся і мерзнеш.',
        success: { reputation: 1 },
        fail: { health: -3, fatigue: 1 },
      },
      {
        id: 'help-traveler',
        label: 'Допомогти мандрівнику',
        description: 'Репутація ціною сил.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ви вибираєтесь разом.',
        failText: 'Ти втрачаєш час і сили.',
        success: { reputation: 2, karma: 1 },
        fail: { health: -2, fatigue: 1 },
      },
      {
        id: 'wait',
        label: 'Перечекати на місці',
        description: 'Без руху, але холодно.',
        effort: 'rest',
        baseChance: 0.6,
        successText: 'Буря слабшає.',
        failText: 'Ти змерзаєш.',
        success: {},
        fail: { health: -2 },
      },
    ],
  },
  {
    id: 'frozen-river',
    title: 'Крижана річка',
    text: 'Лід тонкий, але перейти треба.',
    season: 'Winter',
    choices: [
      {
        id: 'cross-carefully',
        label: 'Йти обережно',
        description: 'Повільно, але надійніше.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти безпечно переходиш.',
        failText: 'Лід тріскає.',
        success: {},
        fail: { health: -3 },
      },
      {
        id: 'find-ferry',
        label: 'Шукати перевізника',
        description: 'Дорого, зате безпечніше.',
        effort: 'social',
        baseChance: 0.65,
        successText: 'Тебе переправляють.',
        failText: 'Ніхто не бере.',
        success: { money: -2 },
        fail: { reputation: -1 },
      },
      {
        id: 'wait-thaw',
        label: 'Чекати відлиги',
        description: 'Втрата часу, менше ризику.',
        effort: 'rest',
        baseChance: 0.6,
        successText: 'Рівень небезпеки зменшується.',
        failText: 'Холод виснажує.',
        success: { fatigue: -1 },
        fail: { health: -2 },
      },
      {
        id: 'dash-across',
        label: 'Пробігти',
        description: 'Швидко, але ризик дуже високий.',
        effort: 'physical',
        baseChance: 0.35,
        successText: 'Ти проскакуєш.',
        failText: 'Ти провалюєшся.',
        success: { reputation: 1 },
        fail: { health: -4 },
      },
    ],
  },
  {
    id: 'harvest-day',
    title: 'Жнива',
    text: 'Селяни шукають робочих рук.',
    season: 'Autumn',
    choices: [
      {
        id: 'join-harvest',
        label: 'Піти на жнива',
        description: 'Стабільний заробіток.',
        effort: 'physical',
        baseChance: 0.85,
        successText: 'Ти працюєш цілий день і отримуєш платню.',
        failText: 'Ти не витримуєш темпу.',
        success: { money: 3 },
        fail: { health: -1 },
      },
      {
        id: 'collect-leftovers',
        label: 'Збирати залишки',
        description: 'Мало грошей, трохи їжі.',
        effort: 'physical',
        baseChance: 0.9,
        successText: 'Ти знаходиш їжу і трохи монет.',
        failText: 'Тебе проганяють.',
        success: { money: 1, health: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'help-foreman',
        label: 'Допомогти бригадиру',
        description: 'Шанс на репутацію.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Тебе помічають і хвалять.',
        failText: 'Твою роботу критикують.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'skip-harvest',
        label: 'Не йти',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти лишаєшся при своєму.',
        failText: 'Ти лишаєшся при своєму.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'apple-harvest',
    title: 'Збір яблук',
    text: 'Сад повен плодів, потрібні руки.',
    season: 'Autumn',
    choices: [
      {
        id: 'pick-apples',
        label: 'Збирати яблука',
        description: 'Спокійна робота.',
        effort: 'physical',
        baseChance: 0.85,
        successText: 'Ти збираєш повні кошики.',
        failText: 'Ти втомлюєшся швидше.',
        success: { money: 2, health: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'sell-quick',
        label: 'Продавати врожай',
        description: 'Шанс заробити більше.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Ти швидко збуваєш яблука.',
        failText: 'Ціни падають.',
        success: { money: 4 },
        fail: { money: -1 },
      },
      {
        id: 'help-family',
        label: 'Допомогти сімʼї',
        description: 'Репутація через доброту.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Тобі дякують.',
        failText: 'Тебе не сприймають всерйоз.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'skip-apples',
        label: 'Не втручатись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'autumn-market',
    title: 'Осінній ярмарок',
    text: 'Листя падає, торгівля пожвавлюється.',
    season: 'Autumn',
    choices: [
      {
        id: 'trade-goods',
        label: 'Торгувати',
        description: 'Шанс на прибуток.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Ти продаєш вигідно.',
        failText: 'Покупців мало.',
        success: { money: 3 },
        fail: { money: -1 },
      },
      {
        id: 'perform-trick',
        label: 'Показати трюк',
        description: 'Репутація за сміливість.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Натовп вражений.',
        failText: 'Тебе висміюють.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'guard-stall',
        label: 'Охороняти лавку',
        description: 'Безпечно, але нудно.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти тримаєш порядок.',
        failText: 'Хтось тікає з товаром.',
        success: { money: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'rest-market',
        label: 'Перепочити',
        description: 'Відновлення сил.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти відпочиваєш.',
        failText: 'Ти відпочиваєш.',
        success: { fatigue: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'festival-day',
    title: 'Свято в місті',
    text: 'Натовп, музика і можливості.',
    minStage: 'Rising',
    season: 'Summer',
    choices: [
      {
        id: 'perform',
        label: 'Виступити перед людьми',
        description: 'Шанс на славу.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Натовп аплодує твоєму виступу.',
        failText: 'Тебе освистують.',
        success: { reputation: 3, luck: 1 },
        fail: { reputation: -2, luck: -1 },
      },
      {
        id: 'sell-trinkets',
        label: 'Продавати дрібниці',
        description: 'Невеликий прибуток.',
        effort: 'social',
        baseChance: 0.7,
        successText: 'Ти заробляєш на святі.',
        failText: 'Продажі слабкі.',
        success: { money: 3 },
        fail: { money: -1 },
      },
      {
        id: 'watch-guards',
        label: 'Допомагати варті',
        description: 'Репутація за порядок.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Ти допомагаєш підтримати спокій.',
        failText: 'Тебе відштовхують.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'enjoy-festival',
        label: 'Просто відпочити',
        description: 'Відновлення сил.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти добре відпочиваєш.',
        failText: 'Ти добре відпочиваєш.',
        success: { health: 1, fatigue: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'summer-heat',
    title: 'Літня спека',
    text: 'Сонце пече, працювати важче.',
    season: 'Summer',
    choices: [
      {
        id: 'work-early',
        label: 'Працювати зранку',
        description: 'Менше виснаження.',
        effort: 'physical',
        baseChance: 0.75,
        successText: 'Ти встигаєш до спеки.',
        failText: 'Сили швидко зникають.',
        success: { money: 2 },
        fail: { fatigue: 1 },
      },
      {
        id: 'seek-shade',
        label: 'Шукати тінь',
        description: 'Без ризику, але без вигоди.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти перепочиваєш.',
        failText: 'Ти перепочиваєш.',
        success: { fatigue: -1 },
        fail: {},
      },
      {
        id: 'sell-water',
        label: 'Продавати воду',
        description: 'Шанс заробити.',
        effort: 'social',
        baseChance: 0.55,
        successText: 'Люди купують охоче.',
        failText: 'Мало клієнтів.',
        success: { money: 3 },
        fail: { money: -1 },
      },
      {
        id: 'help-workers',
        label: 'Допомогти робітникам',
        description: 'Репутація за підтримку.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тебе поважають.',
        failText: 'Ти виснажуєшся.',
        success: { reputation: 2, karma: 1 },
        fail: { health: -1 },
      },
    ],
  },
  {
    id: 'summer-fair',
    title: 'Літній ярмарок',
    text: 'Майстри та купці зʼїжджаються з усіх доріг.',
    season: 'Summer',
    choices: [
      {
        id: 'sell-handwork',
        label: 'Продавати вироби',
        description: 'Шанс на прибуток.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Торгівля йде добре.',
        failText: 'Продажі малі.',
        success: { money: 3 },
        fail: { money: -1 },
      },
      {
        id: 'watch-shows',
        label: 'Дивитися вистави',
        description: 'Відпочинок для душі.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти відволікаєшся.',
        failText: 'Ти відволікаєшся.',
        success: { fatigue: -1, reputation: 1 },
        fail: {},
      },
      {
        id: 'join-guards',
        label: 'Допомогти охороні',
        description: 'Репутація та порядок.',
        effort: 'physical',
        baseChance: 0.65,
        successText: 'Ти підтримуєш порядок.',
        failText: 'Натовп тіснить.',
        success: { reputation: 2, karma: 1 },
        fail: { health: -1 },
      },
      {
        id: 'avoid-crowd',
        label: 'Уникати натовпу',
        description: 'Безпечно, але без вигоди.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти тримаєшся осторонь.',
        failText: 'Ти тримаєшся осторонь.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'debt-collector',
    title: 'Збирач боргів',
    text: 'Хтось вимагає повернути гроші.',
    minStage: 'Established',
    choices: [
      {
        id: 'pay-debt',
        label: 'Заплатити борг',
        description: 'Втрата грошей, збереження репутації.',
        effort: 'social',
        baseChance: 0.8,
        successText: 'Ти чесно розраховуєшся.',
        failText: 'Грошей не вистачає.',
        success: { money: -4, reputation: 2 },
        fail: { reputation: -3 },
      },
      {
        id: 'negotiate-debt',
        label: 'Домовитись про відстрочку',
        description: 'Шанс на компроміс.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Тобі дають час.',
        failText: 'Збирачі зляться.',
        success: { reputation: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'hire-muscle',
        label: 'Найняти охорону',
        description: 'Дорого, але безпечно.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тебе не чіпають.',
        failText: 'Охорона тікає.',
        success: { money: -3 },
        fail: { health: -2, money: -2 },
      },
      {
        id: 'hide',
        label: 'Сховатися',
        description: 'Ризикована втеча.',
        effort: 'physical',
        baseChance: 0.4,
        successText: 'Ти зникаєш на деякий час.',
        failText: 'Тебе знаходять і карають.',
        success: { reputation: -1 },
        fail: { health: -3, reputation: -2 },
      },
    ],
  },
  {
    id: 'river-ferry',
    title: 'Переправа',
    text: 'Човняр бере плату за переправу через річку.',
    choices: [
      {
        id: 'pay-ferry',
        label: 'Заплатити',
        description: 'Безпечно і швидко.',
        effort: 'neutral',
        baseChance: 0.95,
        successText: 'Ти спокійно перетинаєш річку.',
        failText: 'Човняр зриває плату, але пливе.',
        success: { money: -1 },
        fail: { money: -2 },
      },
      {
        id: 'swim',
        label: 'Плисти самому',
        description: 'Ризиковано, але безкоштовно.',
        effort: 'physical',
        baseChance: 0.45,
        successText: 'Ти перетинаєш річку.',
        failText: 'Ти втрачаєш сили в холодній воді.',
        success: {},
        fail: { health: -2 },
      },
      {
        id: 'help-row',
        label: 'Допомогти човняру',
        description: 'Відпрацювати плату.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти відпрацьовуєш переправу.',
        failText: 'Човняр відмовляє.',
        success: { reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'detour',
        label: 'Обійти',
        description: 'Довше, але без ризику.',
        effort: 'physical',
        baseChance: 1,
        successText: 'Ти йдеш обхідним шляхом.',
        failText: 'Ти йдеш обхідним шляхом.',
        success: { fatigue: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'roadside-shrine',
    title: 'Дорожня каплиця',
    text: 'Мандрівники залишають пожертви й просять благословення.',
    choices: [
      {
        id: 'pray',
        label: 'Помолитися',
        description: 'Спокій і надія.',
        effort: 'rest',
        baseChance: 0.9,
        successText: 'Ти відчуваєш полегшення.',
        failText: 'Нічого не змінюється.',
        success: { health: 1 },
        fail: {},
      },
      {
        id: 'donate-coin',
        label: 'Залишити монету',
        description: 'Покращити репутацію.',
        effort: 'social',
        baseChance: 0.8,
        successText: 'Ти отримуєш добре слово.',
        failText: 'Твій жест лишається непоміченим.',
        success: { reputation: 2, money: -1 },
        fail: { money: -1 },
      },
      {
        id: 'guard-shrine',
        label: 'Постояти на варті',
        description: 'Заслужити довіру.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тобі дякують мандрівники.',
        failText: 'Ти нудьгуєш без користі.',
        success: { reputation: 1 },
        fail: {},
      },
      {
        id: 'move-on-shrine',
        label: 'Йти далі',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не затримуєшся.',
        failText: 'Ти не затримуєшся.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'city-construction',
    title: 'Міське будівництво',
    text: 'Будують стіну, потрібні робітники.',
    choices: [
      {
        id: 'haul-stone',
        label: 'Тягати каміння',
        description: 'Важко, але платять.',
        effort: 'physical',
        baseChance: 0.75,
        successText: 'Ти заробляєш на важкій роботі.',
        failText: 'Ти травмуєшся і йдеш.',
        success: { money: 3, fatigue: 1 },
        fail: { health: -2 },
      },
      {
        id: 'mix-mortar',
        label: 'Замішувати розчин',
        description: 'Стабільно і безпечно.',
        effort: 'physical',
        baseChance: 0.85,
        successText: 'Ти відпрацьовуєш зміну.',
        failText: 'Розчин псується, тебе сварять.',
        success: { money: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'talk-foreman',
        label: 'Домовитись з майстром',
        description: 'Шанс на кращу плату.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Тобі платять більше.',
        failText: 'Тебе відправляють далі.',
        success: { money: 4 },
        fail: { reputation: -1 },
      },
      {
        id: 'skip-site',
        label: 'Не працювати',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не береш участі.',
        failText: 'Ти не береш участі.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'fishing-day',
    title: 'Риболовля',
    text: 'Рибаки шукають помічника на світанку.',
    season: ['Spring', 'Summer'],
    choices: [
      {
        id: 'row-boat',
        label: 'Гребти човном',
        description: 'Важко, але платять.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ви повертаєтесь із добрим уловом.',
        failText: 'Риба не клює.',
        success: { money: 2, health: 1 },
        fail: {},
      },
      {
        id: 'mend-nets',
        label: 'Лагодити сіті',
        description: 'Спокійна робота.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Сіті в порядку, тобі платять.',
        failText: 'Сіті рвуться знову.',
        success: { money: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'sell-fish',
        label: 'Продати улов',
        description: 'Ризик на ринку.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Ти продаєш рибу з прибутком.',
        failText: 'Ціни падають.',
        success: { money: 3 },
        fail: { money: -1 },
      },
      {
        id: 'skip-fish',
        label: 'Не йти',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти пропускаєш риболовлю.',
        failText: 'Ти пропускаєш риболовлю.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'spring-thaw',
    title: 'Весняна відлига',
    text: 'Сніг тане, дороги розмиває.',
    season: 'Spring',
    choices: [
      {
        id: 'clear-road',
        label: 'Чистити дорогу',
        description: 'Важко, але платять.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти допомагаєш розчистити шлях.',
        failText: 'Бруд і холод вибивають з сил.',
        success: { money: 2, reputation: 1 },
        fail: { health: -1, fatigue: 1 },
      },
      {
        id: 'deliver-goods',
        label: 'Доставляти товари',
        description: 'Ризик на болоті.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти доставляєш вантаж.',
        failText: 'Віз грузне, ти втрачаєш час.',
        success: { money: 3 },
        fail: { money: -1, fatigue: 1 },
      },
      {
        id: 'help-farmers',
        label: 'Допомогти селянам',
        description: 'Репутація за підтримку.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тобі дякують.',
        failText: 'Тебе не беруть.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'wait-thaw',
        label: 'Чекати покращення',
        description: 'Безпечно, але без вигоди.',
        effort: 'rest',
        baseChance: 1,
        successText: 'Ти бережеш сили.',
        failText: 'Ти бережеш сили.',
        success: { fatigue: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'roof-repair',
    title: 'Лагодження дахів',
    text: 'Після зими чимало дахів протікає.',
    season: 'Spring',
    choices: [
      {
        id: 'climb-roof',
        label: 'Лізти на дах',
        description: 'Ризиковано, але добре платять.',
        effort: 'physical',
        baseChance: 0.55,
        successText: 'Ти лагодиш дах і отримуєш платню.',
        failText: 'Ти падаєш і травмуєшся.',
        success: { money: 4 },
        fail: { health: -3 },
      },
      {
        id: 'carry-tiles',
        label: 'Носити матеріали',
        description: 'Менший ризик, стабільна платня.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти працюєш цілий день.',
        failText: 'Спина болить, ти йдеш.',
        success: { money: 2 },
        fail: { fatigue: 1 },
      },
      {
        id: 'negotiate-pay',
        label: 'Домовитись про оплату',
        description: 'Шанс на кращу платню.',
        effort: 'social',
        baseChance: 0.45,
        successText: 'Ти отримуєш більше.',
        failText: 'Домовитись не вдається.',
        success: { money: 3, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'skip-roof',
        label: 'Не братись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'courier-job',
    title: 'Курʼєрська робота',
    text: 'Потрібно доставити лист у сусідній район.',
    choices: [
      {
        id: 'deliver-fast',
        label: 'Швидка доставка',
        description: 'Шанс на репутацію.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Ти встигаєш вчасно.',
        failText: 'Ти запізнюєшся.',
        success: { reputation: 2, money: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'deliver-safe',
        label: 'Йти обережно',
        description: 'Менше ризику.',
        effort: 'physical',
        baseChance: 0.85,
        successText: 'Ти безпечно доставляєш лист.',
        failText: 'Лист псується.',
        success: { money: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'peek-letter',
        label: 'Поглянути в лист',
        description: 'Спокуса, але ризик.',
        effort: 'mental',
        baseChance: 0.35,
        successText: 'Ти дізнаєшся інформацію.',
        failText: 'Тебе ловлять на місці.',
        success: { skill: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'refuse-delivery',
        label: 'Відмовитись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не береш роботу.',
        failText: 'Ти не береш роботу.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'barn-fire',
    title: 'Пожежа в сараї',
    text: 'Сусіди просять допомоги.',
    minStage: 'Rising',
    choices: [
      {
        id: 'help-fire',
        label: 'Гасити вогонь',
        description: 'Ризик, але повага.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти рятуєш частину майна.',
        failText: 'Ти обпікаєшся.',
        success: { reputation: 3, health: -1 },
        fail: { health: -3 },
      },
      {
        id: 'save-people',
        label: 'Виводити людей',
        description: 'Шанс на репутацію.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Ти допомагаєш людям врятуватись.',
        failText: 'Ти не встигаєш.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'guard-loot',
        label: 'Охороняти речі',
        description: 'Менше ризику.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти зберігаєш кілька речей.',
        failText: 'Люди сердяться.',
        success: { reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'ignore-fire',
        label: 'Не втручатись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не втручаєшся.',
        failText: 'Ти не втручаєшся.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'market-inspection',
    title: 'Перевірка на ринку',
    text: 'Сторожа перевіряє ваги і товари.',
    minStage: 'Established',
    choices: [
      {
        id: 'show-license',
        label: 'Показати дозвіл',
        description: 'Чесна гра.',
        effort: 'social',
        baseChance: 0.85,
        successText: 'Тебе залишають у спокої.',
        failText: 'Документи викликають сумніви.',
        success: { reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'bribe-inspector',
        label: 'Підкупити',
        description: 'Ризиковано.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Перевірку закривають.',
        failText: 'Тебе ловлять на підкупі.',
        success: { money: -2 },
        fail: { reputation: -3, money: -2 },
      },
      {
        id: 'hide-goods',
        label: 'Сховати товар',
        description: 'Шанс уникнути проблем.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти приховуєш зайве.',
        failText: 'Товар знаходять.',
        success: {},
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'close-stall',
        label: 'Закрити прилавок',
        description: 'Без ризику, без прибутку.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти закриваєшся на день.',
        failText: 'Ти закриваєшся на день.',
        success: { money: -1 },
        fail: {},
      },
    ],
  },
  {
    id: 'militia-drill',
    title: 'Вправи ополчення',
    text: 'Місто тренує ополчення.',
    minStage: 'Rising',
    choices: [
      {
        id: 'join-drill',
        label: 'Приєднатись',
        description: 'Шанс на навички.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Ти тренуєшся і міцнішаєш.',
        failText: 'Ти відстаєш від інших.',
        success: { skill: 2, reputation: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'teach-drill',
        label: 'Показати вміння',
        description: 'Ризик, але визнання.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Твої поради цінують.',
        failText: 'Тебе висміюють.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'watch-drill',
        label: 'Спостерігати',
        description: 'Менший ефект.',
        effort: 'neutral',
        baseChance: 0.8,
        successText: 'Ти вчишся на чужих помилках.',
        failText: 'Ти нічого не виносиш.',
        success: { skill: 1 },
        fail: {},
      },
      {
        id: 'skip-drill',
        label: 'Не йти',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти пропускаєш тренування.',
        failText: 'Ти пропускаєш тренування.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'bridge-repair',
    title: 'Ремонт мосту',
    text: 'Міст руйнується, потрібні робочі.',
    choices: [
      {
        id: 'carry-wood',
        label: 'Носити дерево',
        description: 'Важко, але платять.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти заробляєш на ремонті.',
        failText: 'Ти виснажуєшся.',
        success: { money: 2, fatigue: 1 },
        fail: { health: -1 },
      },
      {
        id: 'organize-work',
        label: 'Організувати людей',
        description: 'Шанс на репутацію.',
        effort: 'social',
        baseChance: 0.5,
        successText: 'Ти координуєш роботу.',
        failText: 'Тебе не слухають.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'repair-tool',
        label: 'Лагодити інструмент',
        description: 'Безпечно.',
        effort: 'mental',
        baseChance: 0.8,
        successText: 'Твоя робота корисна.',
        failText: 'Інструмент ламається.',
        success: { skill: 1 },
        fail: {},
      },
      {
        id: 'ignore-bridge',
        label: 'Не втручатись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти проходиш повз.',
        failText: 'Ти проходиш повз.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'flood-streets',
    title: 'Повінь на вулицях',
    text: 'Вода заливає квартали.',
    season: 'Spring',
    choices: [
      {
        id: 'save-goods',
        label: 'Рятувати товар',
        description: 'Ризик, але прибуток.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти рятуєш частину майна.',
        failText: 'Ти втрачаєш сили.',
        success: { money: 2 },
        fail: { health: -2 },
      },
      {
        id: 'help-neighbors',
        label: 'Допомогти людям',
        description: 'Репутація.',
        effort: 'physical',
        baseChance: 0.6,
        successText: 'Тобі дякують.',
        failText: 'Ти не встигаєш.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'move-higher',
        label: 'Піти на височину',
        description: 'Безпечно.',
        effort: 'physical',
        baseChance: 0.9,
        successText: 'Ти уникаєш небезпеки.',
        failText: 'Ти запізнюєшся.',
        success: {},
        fail: { health: -1 },
      },
      {
        id: 'ignore-flood',
        label: 'Не втручатись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти лишаєшся осторонь.',
        failText: 'Ти лишаєшся осторонь.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'refugee-paper',
    title: 'Документи біженця',
    text: 'Потрібно оформити папери.',
    forCharacter: ['refugee'],
    choices: [
      {
        id: 'queue-office',
        label: 'Стати в чергу',
        description: 'Довго, але законно.',
        effort: 'social',
        baseChance: 0.7,
        successText: 'Ти отримуєш дозвіл.',
        failText: 'Тебе відправляють назад.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'pay-scribe',
        label: 'Заплатити писарю',
        description: 'Швидше, але дорого.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Папери готові.',
        failText: 'Гроші зникають.',
        success: { money: -2, reputation: 1 },
        fail: { money: -2 },
      },
      {
        id: 'forge-papers',
        label: 'Підробити документи',
        description: 'Ризик.',
        effort: 'mental',
        baseChance: 0.35,
        successText: 'Ти проходиш перевірку.',
        failText: 'Тебе викривають.',
        success: { reputation: 1 },
        fail: { reputation: -3 },
      },
      {
        id: 'avoid-office',
        label: 'Уникати офіційних місць',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти лишаєшся в тіні.',
        failText: 'Ти лишаєшся в тіні.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'orphan-gang',
    title: 'Вулична банда',
    text: 'Старі знайомі кличуть у справу.',
    forCharacter: ['urchin'],
    choices: [
      {
        id: 'join-gang',
        label: 'Погодитись',
        description: 'Гроші, але ризик.',
        effort: 'physical',
        baseChance: 0.5,
        successText: 'Ти отримуєш частку.',
        failText: 'Тебе ловлять.',
        success: { money: 3, reputation: -1 },
        fail: { health: -2, reputation: -2 },
      },
      {
        id: 'refuse-gang',
        label: 'Відмовитись',
        description: 'Безпечніше.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти тримаєшся осторонь.',
        failText: 'Ти тримаєшся осторонь.',
        success: { reputation: 1 },
        fail: {},
      },
      {
        id: 'warn-guards',
        label: 'Попередити варту',
        description: 'Репутація за допомогу.',
        effort: 'social',
        baseChance: 0.4,
        successText: 'Варта дякує.',
        failText: 'Тебе вважають зрадником.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'negotiate-gang',
        label: 'Домовитись про мир',
        description: 'Спроба уникнути конфлікту.',
        effort: 'social',
        baseChance: 0.3,
        successText: 'Тобі дають спокій.',
        failText: 'Тебе залякують.',
        success: { reputation: 1 },
        fail: { health: -1 },
      },
    ],
  },
  {
    id: 'apprentice-test',
    title: 'Іспит майстра',
    text: 'Майстер перевіряє твої вміння.',
    forCharacter: ['apprentice'],
    choices: [
      {
        id: 'take-test',
        label: 'Скласти іспит',
        description: 'Шанс на повагу.',
        effort: 'mental',
        baseChance: 0.6,
        successText: 'Майстер задоволений.',
        failText: 'Ти робиш помилки.',
        success: { skill: 2, reputation: 2 },
        fail: { reputation: -1 },
      },
      {
        id: 'ask-help',
        label: 'Попросити допомоги',
        description: 'Менше ризику.',
        effort: 'social',
        baseChance: 0.8,
        successText: 'Тобі підказують.',
        failText: 'Тебе сварять.',
        success: { skill: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'delay-test',
        label: 'Відкласти',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти переносиш іспит.',
        failText: 'Ти переносиш іспит.',
        success: {},
        fail: {},
      },
      {
        id: 'prove-independent',
        label: 'Показати самостійність',
        description: 'Ризик і шанс.',
        effort: 'mental',
        baseChance: 0.4,
        successText: 'Майстер вражений.',
        failText: 'Ти псуєш роботу.',
        success: { skill: 2, money: 1 },
        fail: { reputation: -2, karma: -1 },
      },
    ],
  },
  {
    id: 'farmer-harvest',
    title: 'Сільська рада',
    text: 'Селяни вирішують питання громади.',
    forCharacter: ['farmer'],
    choices: [
      {
        id: 'speak-up',
        label: 'Виступити',
        description: 'Шанс на повагу.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Твою думку підтримують.',
        failText: 'Тебе не слухають.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'organize-work',
        label: 'Організувати роботу',
        description: 'Практична користь.',
        effort: 'social',
        baseChance: 0.7,
        successText: 'Громада дякує.',
        failText: 'Люди незадоволені.',
        success: { reputation: 1, money: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'stay-quiet',
        label: 'Мовчати',
        description: 'Без ризику.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не втручаєшся.',
        failText: 'Ти не втручаєшся.',
        success: {},
        fail: {},
      },
      {
        id: 'support-elder',
        label: 'Підтримати старосту',
        description: 'Лояльність.',
        effort: 'social',
        baseChance: 0.8,
        successText: 'Староста віддячує.',
        failText: 'Тебе ігнорують.',
        success: { reputation: 1 },
        fail: {},
      },
    ],
  },
  {
    id: 'forest-foraging',
    title: 'Збір у лісі',
    text: 'У лісі можна знайти трави й ягоди.',
    choices: [
      {
        id: 'gather-herbs',
        label: 'Збирати трави',
        description: 'Шанс на користь.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти знаходиш лікувальні трави.',
        failText: 'Ти марнуєш час.',
        success: { health: 1, money: 1 },
        fail: {},
      },
      {
        id: 'hunt-small',
        label: 'Полювати на дрібну дичину',
        description: 'Ризик, але можлива їжа.',
        effort: 'physical',
        baseChance: 0.45,
        successText: 'Ти приносиш їжу.',
        failText: 'Ти повертаєшся ні з чим.',
        success: { health: 1 },
        fail: { fatigue: 1 },
      },
      {
        id: 'sell-wood',
        label: 'Зібрати хмиз на продаж',
        description: 'Невеликий прибуток.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти продаєш хмиз.',
        failText: 'Покупців мало.',
        success: { money: 2 },
        fail: {},
      },
      {
        id: 'leave-forest',
        label: 'Не ризикувати',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не заходиш глибоко.',
        failText: 'Ти не заходиш глибоко.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'town-crier',
    title: 'Міський глашатай',
    text: 'Потрібна людина, щоб оголошувати новини.',
    choices: [
      {
        id: 'take-crier',
        label: 'Стати глашатаєм',
        description: 'Голос і репутація.',
        effort: 'social',
        baseChance: 0.6,
        successText: 'Тебе чують на площі.',
        failText: 'Тебе висміюють.',
        success: { reputation: 2, money: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'help-prepare',
        label: 'Допомагати з оголошеннями',
        description: 'Менший ефект.',
        effort: 'social',
        baseChance: 0.8,
        successText: 'Ти допомагаєш і отримуєш дрібну платню.',
        failText: 'Тобі не довіряють.',
        success: { money: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'rewrite-message',
        label: 'Підправити текст',
        description: 'Ризиковано.',
        effort: 'mental',
        baseChance: 0.35,
        successText: 'Твій текст подобається людям.',
        failText: 'Тебе сварять.',
        success: { reputation: 2, karma: 1 },
        fail: { reputation: -2, karma: -1 },
      },
      {
        id: 'ignore-crier',
        label: 'Ігнорувати',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти йдеш далі.',
        failText: 'Ти йдеш далі.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'caravan-escort',
    title: 'Охорона каравану',
    text: 'Торговці шукають супровід.',
    minStage: 'Rising',
    choices: [
      {
        id: 'join-escort',
        label: 'Приєднатись',
        description: 'Ризик, але добре платять.',
        effort: 'physical',
        baseChance: 0.55,
        successText: 'Караван безпечно доходить.',
        failText: 'Караван атакують.',
        success: { money: 4, reputation: 1 },
        fail: { health: -3, money: -1 },
      },
      {
        id: 'guard-night',
        label: 'Нічна варта',
        description: 'Втома, але стабільно.',
        effort: 'physical',
        baseChance: 0.7,
        successText: 'Ти витримуєш ніч.',
        failText: 'Ти засинаєш на посту.',
        success: { money: 2, fatigue: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'coach-driver',
        label: 'Допомогти водієві',
        description: 'Безпечно.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Ти допомагаєш у дорозі.',
        failText: 'Ти губишся.',
        success: { money: 2 },
        fail: { health: -1 },
      },
      {
        id: 'decline-escort',
        label: 'Відмовитись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти не береш роботу.',
        failText: 'Ти не береш роботу.',
        success: {},
        fail: {},
      },
    ],
  },
  {
    id: 'warehouse-night',
    title: 'Ніч у складі',
    text: 'Склад потребує нагляду вночі.',
    choices: [
      {
        id: 'night-guard',
        label: 'Чергувати',
        description: 'Платять, але виснажує.',
        effort: 'physical',
        baseChance: 0.65,
        successText: 'Ніч проходить спокійно.',
        failText: 'Ти засинаєш на посту.',
        success: { money: 2, fatigue: 1 },
        fail: { reputation: -1 },
      },
      {
        id: 'repair-door',
        label: 'Полагодити двері',
        description: 'Спокійна робота.',
        effort: 'physical',
        baseChance: 0.8,
        successText: 'Твоя робота корисна.',
        failText: 'Ти псуєш інструмент.',
        success: { skill: 1 },
        fail: {},
      },
      {
        id: 'call-friends',
        label: 'Покликати допомогу',
        description: 'Менше ризику.',
        effort: 'social',
        baseChance: 0.7,
        successText: 'Вас двоє, усе спокійно.',
        failText: 'Ти чекаєш даремно.',
        success: { reputation: 1 },
        fail: {},
      },
      {
        id: 'refuse-warehouse',
        label: 'Відмовитись',
        description: 'Без змін.',
        effort: 'neutral',
        baseChance: 1,
        successText: 'Ти відмовляєшся.',
        failText: 'Ти відмовляєшся.',
        success: {},
        fail: {},
      },
    ],
  },
].map((scene) => ({ ...scene, backlog: true, arc: 1 }));

export const scenes: Scene[] = [...arc1Scenes, ...backlogScenes];
